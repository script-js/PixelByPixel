<!DOCTYPE HTML>
<html style="background:#212121">
  <head>
    <script>
    function getFileLink() {
    return html2canvas(canvas).then(function(result) {
      var myImage = result.toDataURL("image/png");
      return myImage;
    });
}
    </script>
    <link rel="stylesheet" href="style.css" />
    <style>
      * {color:white}
      #canvas {width: 100%;}
      .pixel:hover {opacity:1}
      #flex {
        display: flex;
        gap: 3%;
      }
    </style>
  </head>
  <body style="background:#212121">
    <h1>Library</h1>
    <div id="flex"></div>
  </body>
  <script>
    Object.keys(localStorage).forEach(function(k) {
      var newcanvas = document.createElement("div")
      newcanvas.innerHTML = "<div id='canvas' onclick='openD(this)'>" + JSON.parse(localStorage.getItem(k)).content + "</div><h2>" + k + "</h2>"
      newcanvas.style = "text-align:center;width:20%;"
      newcanvas.setAttribute("sessionData",localStorage.getItem(k))
      flex.appendChild(newcanvas)
    })

    function openD(elem) {
      sessionStorage.setItem("session",elem.parentElement.getAttribute("sessionData"))
      location.href = "canvas"
    }
  </script>
</html>
